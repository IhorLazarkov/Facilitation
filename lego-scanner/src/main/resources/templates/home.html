<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lego Scanner</title>

    <link rel='stylesheet' href='/webjars/bootstrap/5.1.1/css/bootstrap.min.css'>

    <script type="text/javascript" src="/webjars/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/5.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../js/FindByName.js"></script>
    <script type="text/javascript" >
        $(document).ready(function(){
            $('#findByName').bind("keypress", function(event){
                const f = new FindByName($("#findByName"), $("#autocomplete"));
                console.log(f.lookUp());
            });
        });
    </script>
</head>
<body>
<div>
    <form method="get" action="filterByDate">
        <div class="mb-3">
            <label class="form-label">From: <input name="from" type="date"/></label>
            <label class="form-label">To: <input name="to" type="date"/></label>
            <input class="btn btn-primary" type="submit" value="GO"/>
        </div>
    </form>
    <form method="get" action="getItemByName">
        <div class="mb-3">
            <label class="form-label">Name: <input list="autocomplete" id="findByName" name="name"/></label>
            <datalist id="autocomplete"></datalist>
            <input class="btn btn-primary" type="submit" value="FIND"/>
        </div>
    </form>
</div>
<p>Lego's sales</p>
<#if legos?has_content>

<table>
    <thead>
    <tr>
        <td>Date</td>
        <td>Name</td>
        <td>Price</td>
        <td>Sale Price</td>
    </tr>
    </thead>
    <tbody>
    <#list legos as lego>
    <tr id="${lego.id}">
        <td>${lego.date}</td>
        <td>${lego.legoName}</td>
        <td>${lego.price}</td>
        <td>${lego.priceForSale}</td>
    </tr>
    </#list>
    </tbody>
</table>

<#else>
<p>No data available</p>
</#if>
</body>
</html>